{"version":3,"file":"consumer.js","sources":["../src/consumer/loader.ts"],"sourcesContent":["// SVG registry used by the Vue icon component\r\n// Belongs to the vite-plugin package\r\n\r\nimport {\r\n    type DefineCustomMap,\r\n    type DefinedIcons,\r\n    type Filled,\r\n    type IconConfig,\r\n    type OpticalSize,\r\n    type SymbolKey,\r\n    type SymbolSvg,\r\n    type Theme,\r\n    type Weight,\r\n} from '../shared/types';\r\nimport { customKeyOf, keyOf, parseSvg } from '../shared/utils';\r\nimport { symbolConfig } from '../shared/config';\r\nimport RAW_MAP from './loader-map.js';\r\n\r\n// Internal registry map (parsed cache)\r\nconst REGISTRY = new Map<string, Record<number, SymbolSvg>>();\r\n\r\nexport type {\r\n    OpticalSize,\r\n    Weight,\r\n    Filled,\r\n    Theme,\r\n    IconConfig,\r\n    DefinedIcons,\r\n    SymbolKey,\r\n    SymbolSvg,\r\n    DefineCustomMap,\r\n};\r\n\r\n\r\nexport function getSymbol(k: SymbolKey): Record<OpticalSize, SymbolSvg> | undefined {\r\n    const key = keyOf(k);\r\n    const cKey = customKeyOf(k);\r\n\r\n    // 1. Check parsed cache\r\n    let available = REGISTRY.get(key) || REGISTRY.get(cKey);\r\n\r\n    if (!available) {\r\n        // 2. Check raw map\r\n        const rawGroup = RAW_MAP[key] || RAW_MAP[cKey];\r\n        if (rawGroup) {\r\n            available = {};\r\n            for (const [s, svg] of Object.entries(rawGroup)) {\r\n                const parsed = parseSvg(svg as string);\r\n                if (parsed) {\r\n                    available[Number(s)] = parsed;\r\n                }\r\n            }\r\n            REGISTRY.set(rawGroup === RAW_MAP[key] ? key : cKey, available);\r\n        } else if (symbolConfig.debug) {\r\n            console.warn(`[material-symbols-svg] Symbol not found: ${key}`);\r\n        }\r\n    }\r\n\r\n    return available;\r\n}\r\n"],"names":[],"mappings":";;;AAmBA,MAAM,+BAAe,IAAA;AAed,SAAS,UAAU,GAA0D;AAChF,QAAM,MAAM,MAAM,CAAC;AACnB,QAAM,OAAO,YAAY,CAAC;AAG1B,MAAI,YAAY,SAAS,IAAI,GAAG,KAAK,SAAS,IAAI,IAAI;AAEtD,MAAI,CAAC,WAAW;AAEZ,UAAM,WAAW,QAAQ,GAAG,KAAK,QAAQ,IAAI;AAC7C,QAAI,UAAU;AACV,kBAAY,CAAA;AACZ,iBAAW,CAAC,GAAG,GAAG,KAAK,OAAO,QAAQ,QAAQ,GAAG;AAC7C,cAAM,SAAS,SAAS,GAAa;AACrC,YAAI,QAAQ;AACR,oBAAU,OAAO,CAAC,CAAC,IAAI;AAAA,QAC3B;AAAA,MACJ;AACA,eAAS,IAAI,aAAa,QAAQ,GAAG,IAAI,MAAM,MAAM,SAAS;AAAA,IAClE,WAAW,aAAa,OAAO;AAC3B,cAAQ,KAAK,4CAA4C,GAAG,EAAE;AAAA,IAClE;AAAA,EACJ;AAEA,SAAO;AACX;"}